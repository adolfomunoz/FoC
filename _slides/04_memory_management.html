---
title: Memory Management
---
<section>
<!--
  <section data-markdown>
    <textarea data-template>
    ## Index
    - How variables are stored in memory
    - The Role of the Operating System
    - Introduction to Virtual Memory
    </textarea>
  </section>
  <section data-markdown>
    <textarea data-template>
    ## Goals
    - Understand how memory stores variables
    - Distinguish between data, heap, stack sections
    
    - Know the principles on a computer manages data in programs
    </textarea>
  </section>
  <section>
  <h2>Main Diagram</h2>
  <img src="{{ site.baseurl }}/img/elements_of_computing_system.jpg">
  </section>
-->

  <section>
  <h2> Memory Management</h2>
    <ul>
    <li>Memory stores <b>programs</b>; i.e., instructions and data</li>
    <li>The Operating System and the C++ runtime manages memory</li>
    </ul> 
  </section>

<!--
  <section data-markdown>
    <textarea data-template>
    # The Role of the Operating System

    </textarea>
  </section>
  
<section data-markdown>
    <textarea data-template>
    # An Introduction to Virtual Memory

    </textarea>
  </section>
  <section data-markdown>
    <textarea data-template>
    # Hardware Support

    </textarea>
  </section>

  <section data-markdown>
    <textarea data-template>
    # Programmer's view

    </textarea>
  </section>
  <section data-markdown>
    <textarea data-template>
    # Managed vs Unmanaged Memory

    </textarea>
  </section>
-->
  <section> 
    <h2>Quiz: What is a variable? </h2>
    <p class="fragment">A pair of a <b>name</b> with its semantics and a corresponding <b>location for storage</b>, normally memory</p>
  </section>
  <section> 
    <h2>Quiz: What is a pointer? </h2>
    <p class="fragment">A variable that stores a memory address</p>
  </section>
  <section>
    <h2>Parts of a Program in Memory</h2>
    <img src="{{ site.baseurl }}/img/memparts.png" height="300">
  </section>
  <section>
    <h2>Text and Operating System parts</h2>
    <ul>
    <li><b>Operating System</b>: The operating system restricts some memory area for itself</li>
    <li><b>Text</b>: Portion of memory storing the code of our program; e.g., <q>main</q> function</li>
    </ul> 
  </section>
  <section>
    <h2>Data, Heap, and Stack</h2>
    <ul>
    <li><b>Data</b>: Area storing global variables with lifetime equal to the program</li>
    <li><b>Heap</b>: Area storing variables dynamically allocated, unknown lifetime and not function limited</li>
    <li><b>Stack</b>: Area storing variables created within the scope of a function</li>
    </ul> 
  </section>
  <section>
	  <h2>Heap and Stack example</h2>
           <div class="r-stack"> 
		   <img class="fragment fade-out" data-fragment-index="0" src="{{ site.baseurl }}/img/stack_heap/stack_demo_1.png" height="300">
                   <img class="fragment current-visible" data-fragment-index="0" src="{{ site.baseurl }}/img/stack_heap/stack_demo_2.png" height="300">
                   <img class="fragment" src="{{ site.baseurl }}/img/stack_heap/stack_demo_3.png" height="300">
                   <img class="fragment" src="{{ site.baseurl }}/img/stack_heap/stack_demo_4.png" height="300">
                   <img class="fragment" src="{{ site.baseurl }}/img/stack_heap/stack_demo_5.png" height="300">
                   <img class="fragment" src="{{ site.baseurl }}/img/stack_heap/stack_demo_6.png" height="300">
                   <img class="fragment" src="{{ site.baseurl }}/img/stack_heap/stack_demo_7.png" height="300">
                   <img class="fragment" src="{{ site.baseurl }}/img/stack_heap/stack_demo_8.png" height="300">
	   </div>
           <img src="{{ site.baseurl }}/img/stack_heap/demo_legend.png" height="50">
	   <em style="font-size:25%">source: https://courses.grainger.illinois.edu/cs225/fa2022/resources/stack-heap/</em>
  </section>
 <section>
   <h2>Quiz: Pointers' storage</h2>
   <p class="fragment">Can the heap, stack and data sections store pointers?</p>
 </section>
 <section>
 <h2>Quiz: What is the output of this code?</h2>
 <pre><code class="hljs cpp" data-trim data-line-numbers><script type="text/template">
 {%- include src/swap.cpp -%}
 </script></code></pre> 
 </section>
 <section>
 <h2>C++ parameters default pass</h2>
 <p>In C++, <em>pass-by-copy</em> is the default policy
  </section>
 <section>
 <h2>Quiz: What is the output of this code?</h2>
 <h3>Pointers to the rescue</h3>
 <pre><code class="hljs cpp" data-trim data-line-numbers><script type="text/template">
 {%- include src/swap_ptr.cpp -%}
 </script></code></pre> 
  </section>
 
 <section>
 <h2>Pointers can be dangerous</h2>
 <pre><code class="hljs cpp" data-trim data-line-numbers><script type="text/template" class="stretch">
 {%- include src/swap_nullptr.cpp -%}
 </script></code></pre> 
  </section>
  <section>
  <h2><pre>nullptr</pre>, the pointer literal</h2>

  </section>
  <section>
  <h2>References</h2>
  </section>
  <section>
  <h2>Pointers and Arrays</h2>
  </section>
  <section>
  <h2><pre>new</pre> and <pre>delete</pre></h2>
  </section>
  
</section>
